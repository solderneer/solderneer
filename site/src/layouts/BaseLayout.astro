---
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts";
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import RuneScroll from "../components/RuneScroll.astro";

const { title, description, emoji, image, showHeader = true } = Astro.props;

interface Props {
  title: string;
  description?: string;
  emoji?: string;
  image?: string;
  showHeader?: boolean;
}
---

<html lang="en">
  <head>
    <BaseHead
      title={title}
      description={description ?? SITE_DESCRIPTION}
      emoji={emoji}
      image={image ?? "/pfp-min.png"}
    />
  </head>

  <body>
    <div class="ethnic-border" aria-hidden="true"></div>
    <div class="page-content">
      <div class="container">
        {showHeader && (
          <header>
            <div class="header-content">
              <div class="title-block">
                <h1><a href="/">{SITE_TITLE}</a></h1>
                <div class="subtitle">{SITE_DESCRIPTION}</div>
                <div class="location">san francisco, via london and singapore</div>
              </div>
              <nav>
                <a href="/notes">Notes</a>
                <a href="/notes/about">About</a>
                <a href="/rss.xml">RSS</a>
              </nav>
            </div>
            <RuneScroll />
          </header>
        )}

        <main>
          <slot />
        </main>

        <Footer />
      </div>
    </div>
  </body>
</html>

<style>
  .page-content {
    position: relative;
    z-index: 2;
  }

  header {
    padding: 40px 0 0;
  }

  .title-block {
    font-family: 'IBM Plex Mono', monospace;
    margin-bottom: 10px;
  }

  h1 {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 1.5rem;
    font-weight: 500;
    letter-spacing: -0.01em;
    margin-bottom: 2px;
    color: var(--text);
  }

  h1 a {
    color: inherit;
    text-decoration: none;
  }

  h1 a:hover {
    color: var(--accent);
  }

  .subtitle {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.75rem;
    color: var(--text-secondary);
    line-height: 1.5;
  }

  .location {
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.7rem;
    color: var(--text-tertiary);
    margin-top: 3px;
  }

  nav {
    display: flex;
    gap: 20px;
    margin-top: 16px;
    font-family: 'IBM Plex Mono', monospace;
    font-size: 0.75rem;
  }

  nav a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: color 0.15s;
  }

  nav a:hover {
    color: var(--accent);
  }

  main {
    margin-top: 32px;
  }
</style>
